<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <title>RTD Heatmap</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="css/style.css"/>
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
</head>
<body>
  <div id="map"></div>

  <div id="controls">
    <div class="top-row">
      <button id="playBtn">▶ Play</button>
      <input type="range" id="timeline" min="0" max="0" step="1" value="0"/>
      <button id="toggleAdvanced">Advanced ▾</button>
    </div>

    <div class="core-row">
      <label>Schedule
        <select id="scheduleSelect"></select>
      </label>

      <label id="compareWrapper" style="display:none;">Compared&nbsp;to
        <select id="compareSelect"></select>
      </label>

      <label>View
        <select id="mapType">
          <option value="boardings" selected>Boardings</option>
          <option value="change">Change</option>
        </select>
      </label>

      <label>Metric
        <select id="valueType">
          <option value="boardings" selected>Boardings</option>
          <option value="alightings">Alightings</option>
          <option value="total_rides">Total</option>
        </select>
      </label>
    </div>

    <div id="advancedControls">
      <label>Radius
        <input type="range" id="radius" min="1" max="50" value="15"/>
        <input type="number" id="radiusNum" min="1" max="50" value="15"/>
      </label>

      <label>Blur
        <input type="range" id="blur" min="1" max="50" value="15"/>
        <input type="number" id="blurNum" min="1" max="50" value="15"/>
      </label>

      <label>Max
        <input type="range" id="max" min="0.1" max="20" step="0.1" value="1.5"/>
        <input type="number" id="maxNum" min="0.1" max="20" step="0.1" value="1.5"/>
      </label>

      <label>Scale
        <select id="scaleType">
          <option value="normal">Normal</option>
          <option value="sqrt" selected>√ Scale</option>
          <option value="log">Log₁₀</option>
        </select>
      </label>

      <div id="legend">
        <span style="background:red"></span> Increase
        <span style="background:blue"></span> Decrease
      </div>
    </div>
  </div>

  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script src="https://unpkg.com/leaflet.heat/dist/leaflet-heat.js"></script>
  <script type="module" src="js/app.js"></script>
</body>
</html>
