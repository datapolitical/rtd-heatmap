/* ───────── Layout Basics ───────── */
html, body, #map { margin:0; padding:0; height:100%; width:100% }
#map { z-index:0; }

/* ───────── Control Panel ───────── */
#controls{
  position:absolute;
  bottom:0;
  left:0;
  width:100%;
  background:rgba(255,255,255,.95);
  font-family:sans-serif;
  font-size:13px;
  display:flex;
  flex-direction:column;
  gap:6px;
  z-index:1000;
  box-shadow:0 -1px 4px rgba(0,0,0,.2);
}

/* top row: play, timeline, advanced */
.top-row{
  display:flex;
  align-items:center;
  justify-content:center;
  gap:10px;
  padding:4px;
}

/* core controls row */
.core-row{
  display:flex;
  flex-wrap:wrap;
  align-items:center;
  justify-content:center;
  gap:12px;
  padding:0 6px 4px;
}

/* advanced panel */
#advancedControls{
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  gap:12px;
  padding-bottom:6px;
}

/* labels + inputs */
#controls label{
  display:flex;
  flex-direction:column;
  align-items:center;
}
#controls input[type=range]{ width:80px; }
#controls input[type=number]{ width:60px; }
#controls select{ margin-top:4px; }

/* legend */
#legend{
  display:flex;
  align-items:center;
  gap:8px;
  flex-wrap:wrap;
}
#legend span{
  width:12px;
  height:12px;
  border:1px solid #000;
  display:inline-block;
}

/* ───────── Advanced Toggle Color ───────── */
#toggleAdvanced{
  padding:4px 10px;
  border:1px solid #888;
  border-radius:4px;
  background:#eee;
  cursor:pointer;
}
#toggleAdvanced.active{
  background:#0057d8;
  color:#fff;
}

/* ───────── Responsive tweaks ───────── */
@media (max-width:600px), (orientation:portrait){
  #controls{ font-size:11px; }
  #controls input[type=range]{ width:70px; }
  #controls input[type=number]{ width:50px; }
}